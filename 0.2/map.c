#include <ncurses.h>
#include <string.h>
#define BUFLEN 256

void stage1()
{
    mvprintw(0,  0, "             │   │                          │   │                          │   │                          │   │             ");
    mvprintw(1,  0, "‾‾‾‾'.       │   │       ,'‾‾‾‾‾‾‾‾'.       │   │       ,'‾‾‾‾‾‾‾‾'.       │   │       ,'‾‾‾‾‾‾‾‾'.       │   │       ,'‾‾‾‾");
    mvprintw(2,  0, "      `--.   │   │   ,--´            `--.   │   │   ,--´            `--.   │   │   ,--´            `--.   │   │   ,--´      ");
    mvprintw(3,  0, "          \\  │   │  /                    \\  │   │  /                    \\  │   │  /                    \\  │   │  /          ");
    mvprintw(4,  0, "           \\_│___│_/                      \\_│___│_/                      \\_│___│_/                      \\_│___│_/           ");
    mvprintw(5,  0, "           (_______)                      (_______)                      (_______)                      (_______)           ");
    mvprintw(6,  0, "            [_____]                        [_____]                        [_____]                        [_____]            ");
    mvprintw(7,  0, "             │   │                          │   │                          │   │                          │   │             ");
    mvprintw(8,  0, "             │   │                          │   │                          │   │                          │   │             ");
    mvprintw(9,  0, "             │  ││                          |  ||                          │  ││                          │  ││             ");
    mvprintw(10, 0, "             │   │                          |   |                          │   │                          │   │             ");
    mvprintw(11, 0, "             │  ││                          |  ||                          │  ││                          │  ││             ");
    mvprintw(12, 0, "             │  ││                          |  ||                          │  ││                          │  ││             ");
    mvprintw(13, 0, "             │  ││                          |  ||                          │  ││                          │  ││             ");
    mvprintw(14, 0, "             │___│                          |___|                          │___│                          │___│             ");
    mvprintw(15, 0, "            [__|__]                        [__|__]                        [__|__]                        [__|__]            ");
    mvprintw(16, 0, "           (_______)                      (_______)                      (_______)                      (_______)           ");
    mvprintw(17, 0, "‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾");
    mvprintw(18, 0, "\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾‾\\‾‾‾");
    mvprintw(19, 0, "‾‾‾\\‾‾‾‾‾‾‾‾‾\\‾‾‾‾‾‾‾‾‾\\‾‾‾‾‾‾‾‾‾\\‾‾‾‾‾‾‾‾‾\\‾‾‾‾‾‾‾‾‾\\‾‾‾‾‾‾‾‾‾\\‾‾‾‾‾‾‾‾‾\\‾‾‾‾‾‾‾‾‾\\‾‾‾‾‾‾‾‾‾\\‾‾‾‾‾‾‾‾‾\\‾‾‾‾‾‾‾‾‾\\‾‾‾‾‾‾‾‾‾\\");
    mvprintw(20, 0, "____\\_________\\_________\\_________\\_________\\_________\\_________\\_________\\_________\\_________\\_________\\_________\\_________");
    mvprintw(21, 0, "__\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\_"); 
    mvprintw(22, 0, "\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\____\\___"); 
}

void drawmap(FILE *mapfile)
{
    char buf[BUFLEN];
    char *a;

    for (int i = 0; i < 23; i++){
        fgets(buf, BUFLEN, mapfile);
        a = strtok(buf, "\n");
        mvprintw(i, 0, "%s", a);
    }
}

void map()
{
    FILE *map;
    map = fopen("map.txt", "r");

    attron(COLOR_PAIR(1) | A_DIM);
    //stage1();
    drawmap(map);
    attroff(COLOR_PAIR(1) | A_DIM);

    fclose(map);
}